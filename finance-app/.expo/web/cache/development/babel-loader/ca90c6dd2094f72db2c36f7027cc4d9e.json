{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { styles } from \"./styles\";\nimport { db } from \"./firebase-config\";\nimport { doc, deleteDoc } from \"firebase/firestore\";\nimport TransactionContext from \"../context/TransactionContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Transaction = function Transaction(_ref) {\n  var transaction = _ref.transaction;\n\n  var _useContext = useContext(TransactionContext),\n      getTransactions = _useContext.getTransactions;\n\n  var sign = transaction.amount < 0 ? \"-\" : \"+\";\n  var color = transaction.amount < 0 ? styles.listMinus : styles.listPlus;\n\n  var deleteTransaction = function _callee(id) {\n    var transDoc;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            transDoc = doc(db, \"userTransactionTable\", id);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(deleteDoc(transDoc));\n\n          case 3:\n            alert(\"item deleted successfully!\");\n            getTransactions();\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: [styles.list, styles.boxWithShadow, color],\n    children: [_jsx(View, {\n      children: _jsx(Text, {\n        style: [styles.transText_2],\n        children: transaction.text\n      })\n    }), _jsxs(View, {\n      style: [styles.transView],\n      children: [_jsxs(Text, {\n        style: [styles.transText_1],\n        children: [sign, \"$\", Math.abs(transaction.amount)]\n      }), _jsx(Text, {\n        children: _jsx(Button, {\n          onPress: function onPress() {\n            return deleteTransaction(transaction.id);\n          },\n          color: \"#444\",\n          title: \"X\"\n        })\n      })]\n    })]\n  });\n};","map":{"version":3,"names":["React","useContext","styles","db","doc","deleteDoc","TransactionContext","Transaction","transaction","getTransactions","sign","amount","color","listMinus","listPlus","deleteTransaction","id","transDoc","alert","list","boxWithShadow","transText_2","text","transView","transText_1","Math","abs"],"sources":["E:/Bohubrihi Full Stack Course/React Native Practice File/finance-app/src/components/Transaction.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Text, View, Button } from \"react-native\";\r\nimport { styles } from \"./styles\";\r\nimport { db } from \"./firebase-config\";\r\nimport { doc, deleteDoc } from \"firebase/firestore\";\r\nimport TransactionContext from \"../context/TransactionContext\";\r\n\r\nexport const Transaction = ({ transaction }) => {\r\n  const { getTransactions } = useContext(TransactionContext);\r\n  const sign = transaction.amount < 0 ? \"-\" : \"+\";\r\n  const color = transaction.amount < 0 ? styles.listMinus : styles.listPlus;\r\n\r\n  const deleteTransaction = async (id) => {\r\n    const transDoc = doc(db, \"userTransactionTable\", id);\r\n    await deleteDoc(transDoc);\r\n    alert(\"item deleted successfully!\");\r\n    getTransactions();\r\n  };\r\n\r\n  return (\r\n    <View style={[styles.list, styles.boxWithShadow, color]}>\r\n      <View>\r\n        <Text style={[styles.transText_2]}>{transaction.text}</Text>\r\n      </View>\r\n      <View style={[styles.transView]}>\r\n        <Text style={[styles.transText_1]}>\r\n          {sign}${Math.abs(transaction.amount)}\r\n        </Text>\r\n        <Text>\r\n          <Button\r\n            onPress={() => deleteTransaction(transaction.id)}\r\n            color=\"#444\"\r\n            title=\"X\"\r\n          />\r\n        </Text>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;;;;AAEA,SAASC,MAAT;AACA,SAASC,EAAT;AACA,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,OAAOC,kBAAP;;;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAqB;EAAA,IAAlBC,WAAkB,QAAlBA,WAAkB;;EAC9C,kBAA4BP,UAAU,CAACK,kBAAD,CAAtC;EAAA,IAAQG,eAAR,eAAQA,eAAR;;EACA,IAAMC,IAAI,GAAGF,WAAW,CAACG,MAAZ,GAAqB,CAArB,GAAyB,GAAzB,GAA+B,GAA5C;EACA,IAAMC,KAAK,GAAGJ,WAAW,CAACG,MAAZ,GAAqB,CAArB,GAAyBT,MAAM,CAACW,SAAhC,GAA4CX,MAAM,CAACY,QAAjE;;EAEA,IAAMC,iBAAiB,GAAG,iBAAOC,EAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAClBC,QADkB,GACPb,GAAG,CAACD,EAAD,EAAK,sBAAL,EAA6Ba,EAA7B,CADI;YAAA;YAAA,iCAElBX,SAAS,CAACY,QAAD,CAFS;;UAAA;YAGxBC,KAAK,CAAC,4BAAD,CAAL;YACAT,eAAe;;UAJS;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAA1B;;EAOA,OACE,MAAC,IAAD;IAAM,KAAK,EAAE,CAACP,MAAM,CAACiB,IAAR,EAAcjB,MAAM,CAACkB,aAArB,EAAoCR,KAApC,CAAb;IAAA,WACE,KAAC,IAAD;MAAA,UACE,KAAC,IAAD;QAAM,KAAK,EAAE,CAACV,MAAM,CAACmB,WAAR,CAAb;QAAA,UAAoCb,WAAW,CAACc;MAAhD;IADF,EADF,EAIE,MAAC,IAAD;MAAM,KAAK,EAAE,CAACpB,MAAM,CAACqB,SAAR,CAAb;MAAA,WACE,MAAC,IAAD;QAAM,KAAK,EAAE,CAACrB,MAAM,CAACsB,WAAR,CAAb;QAAA,WACGd,IADH,OACUe,IAAI,CAACC,GAAL,CAASlB,WAAW,CAACG,MAArB,CADV;MAAA,EADF,EAIE,KAAC,IAAD;QAAA,UACE,KAAC,MAAD;UACE,OAAO,EAAE;YAAA,OAAMI,iBAAiB,CAACP,WAAW,CAACQ,EAAb,CAAvB;UAAA,CADX;UAEE,KAAK,EAAC,MAFR;UAGE,KAAK,EAAC;QAHR;MADF,EAJF;IAAA,EAJF;EAAA,EADF;AAmBD,CA/BM"},"metadata":{},"sourceType":"module"}