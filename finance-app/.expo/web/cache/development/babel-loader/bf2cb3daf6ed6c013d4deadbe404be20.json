{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { styles } from \"./styles\";\nimport { onAuthStateChanged, signInWithEmailAndPassword } from \"firebase/auth\";\nimport AuthContext from \"../context/AuthContext\";\nimport { auth } from \"../components/firebase-config\";\nimport Loading from \"../components/Loading\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var LogIn = function LogIn(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errorMessage = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function (currentUser) {\n      if (currentUser) {\n        setUser(currentUser);\n        navigation.replace(\"Home\");\n      }\n    });\n    return unsubscribe;\n  }, []);\n\n  var handleLogin = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(signInWithEmailAndPassword(auth, email, password).then(function (userCredentials) {\n              var user = userCredentials.user;\n            }).catch(function (error) {\n              if (error.code === \"auth/invalid-email\") {\n                setError(\"Invalid Email Entered !!!\");\n              } else if (error.code === \"auth/user-not-found\") {\n                setError(\"Email not found !!!\");\n              } else if (error.code === \"auth/wrong-password\") {\n                setError(\"Wrong Password Entered !!!\");\n              } else if (error.code === \"auth/internal-error\") {\n                setError(\"Username or Password Empty !!!\");\n              } else console.log(error);\n            }));\n\n          case 3:\n            setLoading(false);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleReg = function handleReg() {\n    navigation.navigate(\"Registration\");\n  };\n\n  if (loading) return _jsx(Loading, {});\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      style: styles.image,\n      source: require(\"../../assets/finance.png\")\n    }), _jsx(Text, {\n      style: styles.header,\n      children: \"- Login Here -\"\n    }), _jsx(View, {\n      style: styles.errorMessage,\n      children: errorMessage && _jsx(Text, {\n        style: styles.error,\n        children: errorMessage\n      })\n    }), _jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Enter Email\",\n        placeholderTextColor: \"#003f5c\",\n        onChangeText: function onChangeText(email) {\n          return setEmail(email);\n        }\n      })\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Enter Password\",\n        placeholderTextColor: \"#003f5c\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(password) {\n          return setPassword(password);\n        }\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.loginBtn,\n      onPress: handleLogin,\n      children: _jsx(Text, {\n        style: styles.loginText,\n        children: \"LOGIN\"\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: handleReg,\n      children: _jsxs(Text, {\n        style: styles.loginTextLog,\n        children: [\"If you are new here please\", _jsx(Text, {\n          style: styles.RegText,\n          children: \" Registration !\"\n        })]\n      })\n    })]\n  });\n};","map":{"version":3,"names":["StatusBar","React","useState","useEffect","useContext","styles","onAuthStateChanged","signInWithEmailAndPassword","AuthContext","auth","Loading","LogIn","navigation","user","setUser","email","setEmail","password","setPassword","errorMessage","setError","loading","setLoading","unsubscribe","currentUser","replace","handleLogin","then","userCredentials","catch","error","code","console","log","handleReg","navigate","container","image","require","header","inputView","TextInput","loginBtn","loginText","loginTextLog","RegText"],"sources":["E:/Bohubrihi Full Stack Course/React Native Practice File/finance-app/src/auth/LogIn.jsx"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { Text, View, Image, TextInput, TouchableOpacity } from \"react-native\";\r\nimport { styles } from \"./styles\";\r\nimport { onAuthStateChanged, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport AuthContext from \"../context/AuthContext\";\r\nimport { auth } from \"../components/firebase-config\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport const LogIn = ({ navigation }) => {\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // console.log(email, password);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n      if (currentUser) {\r\n        setUser(currentUser);\r\n        navigation.replace(\"Home\");\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    setLoading(true);\r\n    await signInWithEmailAndPassword(auth, email, password)\r\n      .then((userCredentials) => {\r\n        const user = userCredentials.user;\r\n        // console.log(\"Logged in with:\", user);\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === \"auth/invalid-email\") {\r\n          setError(\"Invalid Email Entered !!!\");\r\n        } else if (error.code === \"auth/user-not-found\") {\r\n          setError(\"Email not found !!!\");\r\n        } else if (error.code === \"auth/wrong-password\") {\r\n          setError(\"Wrong Password Entered !!!\");\r\n        } else if (error.code === \"auth/internal-error\") {\r\n          setError(\"Username or Password Empty !!!\");\r\n        } else console.log(error);\r\n      });\r\n    setLoading(false);\r\n    // navigation.navigate(\"Home\");\r\n  };\r\n\r\n  const handleReg = () => {\r\n    navigation.navigate(\"Registration\");\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Image\r\n        style={styles.image}\r\n        source={require(\"../../assets/finance.png\")}\r\n      />\r\n\r\n      <Text style={styles.header}>- Login Here -</Text>\r\n\r\n      <View style={styles.errorMessage}>\r\n        {errorMessage && <Text style={styles.error}>{errorMessage}</Text>}\r\n      </View>\r\n\r\n      <StatusBar style=\"auto\" />\r\n      <View style={styles.inputView}>\r\n        <TextInput\r\n          style={styles.TextInput}\r\n          placeholder=\"Enter Email\"\r\n          placeholderTextColor=\"#003f5c\"\r\n          onChangeText={(email) => setEmail(email)}\r\n        />\r\n      </View>\r\n\r\n      <View style={styles.inputView}>\r\n        <TextInput\r\n          style={styles.TextInput}\r\n          placeholder=\"Enter Password\"\r\n          placeholderTextColor=\"#003f5c\"\r\n          secureTextEntry={true}\r\n          onChangeText={(password) => setPassword(password)}\r\n        />\r\n      </View>\r\n\r\n      <TouchableOpacity style={styles.loginBtn} onPress={handleLogin}>\r\n        <Text style={styles.loginText}>LOGIN</Text>\r\n      </TouchableOpacity>\r\n\r\n      <TouchableOpacity onPress={handleReg}>\r\n        <Text style={styles.loginTextLog}>\r\n          If you are new here please\r\n          <Text style={styles.RegText}> Registration !</Text>\r\n        </Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}